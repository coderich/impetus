server:
  port: 3003

data:
  rooms:
    1:
      exits:
        n: rooms.2
    2:
      exits:
        s: rooms.1

  npcs:
    1:
      name: 'Rich'
      age: 43
    2:
      name: 'Anne'
      age: 38

events:
  $server.ready:
    - $db.set: ['impetus', { var: data }]
    - $db.set: ['test1', { var: data.rooms.1 }]
    - $db.set: ['test2', { $data.ref: ['rooms.2.exits.s'] }]
    - $db.set: ['test3', { var: data.rooms.2.exits.s }]

  $server.connection:
    - $socket.emit: ['data', { $db.get: 'impetus' }]
    - $socket.set: ['some.path', 'here']
    - $socket.emit: ['data', { var: socket.id }]
    - $emit: ['myEvent', { $object: ['no', { $db.get: 'impetus' }]}]

  myEvent:
    - $log: { var: event }
    - $socket.emit: ['data', { var: event.no.npcs }]
